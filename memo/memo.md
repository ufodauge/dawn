# 日記
## 2022年12月23日

今日から書き直し

### シーン遷移

ムジュラでは？
→   エントランス判定に触れればシーンが切り替わるようになっている。
    コマンドでも遷移可能であるが、その際は曲が適切に切り替わらない場合がある。
    これは特定の遷移にのみ曲遷移の処理があるから？
    それとシーン遷移には、シーンの特定の座標へリンクを送り、
    さらに直前の移動速度などをもとに歩かせたりもできる
    
エラーを拾う仕組みを考えてなかった
考えた

### パラメータのホットリロード

CSVなどで値を変更したことを検知（あるいはリロードコマンド）し、
オブジェクトのパラメータに反映させる必要があるわけだが…

┌-----┐    ┌-----------┐    ┌---------┐
| CSV |    | lua table |    | objects |
└-----┘    └-----------┘    └---------┘
  |          |<-- 直接参照 ---|
 ---------------------------------
  |---┐      |                |
  | セーブ   |                |
  |<--┘      |                |
  |-- 変更 ->|                |
  |          |---┐            |
  |          | ホットリロード |
  |          |<--┘            |

オブジェクトの生成時に必ずCSVからlua tableを生成する
ホットリロード時に同じテーブルを参照するかどうかは不明

と思ったけどCSVよりjsonのほうが好き


## 2022年12月26日

RiJ会場で書いてる
RTAを見ろ




